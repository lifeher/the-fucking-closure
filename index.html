<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>The-fucking-closure by lifeher</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">The-fucking-closure</h1>
      <h2 class="project-tagline">closure</h2>
      <a href="https://github.com/lifeher/the-fucking-closure" class="btn">View on GitHub</a>
      <a href="https://github.com/lifeher/the-fucking-closure/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/lifeher/the-fucking-closure/tarball/master" class="btn">Download .tar.gz</a>
    </section>
<div style="padding:0 15%">
    <h3>一直以来都讨厌提到词汇，其中一个就是闭包，也就是本文的主题---the fucking closure ! 有时候我就不明白了，为什么一定要了解闭包，那些面试的hr为什么要死磕着闭包不放，网上大量充斥着各种闭包解释，那些专业术语用的比谁都6，我靠我们在干嘛，我们在生活啊，生活啊。</h3>
    <h3>好吧，我们入题吧，闭包，这个狗叼（通常我是这么称呼那些晦涩的术语）通常会让很对菜鸟程序员头疼，网络文章看了一遍又一遍，最后一问到，又瞬间变得迷迷糊糊，“哦~闭包啊，就是就是。。。”好像印象中有这这个东西，好像又不记得是怎么回事，自己用过吗？</h3>  
    <h3>别骗自己了，你用过，也许还经常用：如果一个函数（F函数）用了它外面的变量，那特么就是一个闭包。这样说简单实在，这个F函数外面不一定要有其他ABCD函数包着，（我假设你已经知道了一个代码块运行结束后它里面的数据就会被回收，简单的说就是没了被销毁了、被系统丢出内存空间了、你用不了了，除非你再次运行这个代码块，让数据再次回到系统内存空间（这里就不说什么鬼堆啊栈啊的了），总之，不知道的话就承认它就是这样子得了，反正我们又不用造原子弹），如果你不想让系统把那些数据丢出内存空间，那你就要使用这些数据。</h3>
    <h3>在js里面for跟IF是不存在块这种概念的，所以我们常用的块就是函数function了，一个function运行结束后，里面的数据就被丢出内存空间了，而且既然它是一个块，那么我们就没办法拿到它里面的数据，可是我们必须拿到数据啊，必要的话我们还要更改里面的数据，作为一个牛逼哄哄的程序员，怎么可能容忍自己不行！所以我们再里面加个return，把数据返回出来，</h3>
    <h5>function you（） ｛<br/>
		var 女朋友 = “Lisa !” //我在里面，你是看不到的<br>
	｝<br>
	console.log(女朋友)   ->你这样是找不到“女朋友”的！<br>
	然后呢：<br>
	function you（） ｛<br>
		var 女朋友 = “Lisa !” 
		return 女朋友；
	｝
	var myGirl = you ()<br>
	console.log(myGirl)   -> 成功找到女朋友“Lisa”
	</h5>
    <h3>这样我们就能提取到里面的Lina了，但这还不能算是一个闭包，我们说了：如果一个函数（F函数）用了它外面的变量，那特么就是一个闭包。好，我们在这个里面方法里面再加入一个方法试试，也许你已经知道我要干嘛了：</h3>
    <h5>function you（） ｛<br>
	var 女朋友 = “Lisa !” //我在里面，你是看不到的<br>
	function youSay() {<br>
	console.log(女朋友)； //这样就是用了外面的数据<br>
}<br>
return youSay；//同样是用return把数据返回到最外面让我们看到<br>
｝<br>
var myGirl = you()  //拿到return的内容>一个带着女朋友的方法youSay，并没有运行<br>
myGirl() ;  //运行带着女朋友的方法，然后你就可以顺利get到女朋友了<br>
</h5>
	  <h3>看到了把，youSay方法就是一个闭包！</h3>
	  <h3>Var myGirl = you() 这句中，you方法是运行完了，按理说里面的“女朋友”是不会存在了，但是我们返回了一个它内部的方法，这个方法（块）还没有退出，因为后面还有一句Console.log( myGirl() );看，我们运行它内部的方法，而这个方法用到了它的数据“女朋友”！所以，“女朋友”必须给我们保留下来，直到这还整个块全部运行结束，“女朋友”才会被回收。</h3>
	  <h3>当然，现实生活中你不能这么干，”用完就回收”的真不是男人！</h3>
	  <h3>那闭包有什么用，用在什么地方？这句从无数hr嘴里说出来的，总是让无数菜鸟程序员一脸懵逼；</h3>
	  <h3>前面以及说了一个闭包的作用，那就是从外部访问内部方法，想想找到女朋友的例子；另外一个用法就是，从外部更改内部的数据：</h3>
	  <h5>function you() {<br>
    var 女朋友 = 'Lisa';<br>
    失恋 = function(otherGirl) {  //这个全局变量用到了girl，所以girl没有被回收<br>
        女朋友= otherGirl;<br>
    }<br>
    function girl() {<br>
        console.log(女朋友);<br>
    }<br>
    return girl;<br>
}<br>
var myGirl = you();<br>
myGirl();  //这里，女朋友还是Lisa<br>

失恋('Lina');  //这里，女朋友变成了Lina，初恋情结！<br>
myGirl();	<br>
</h5>
	  <h3>总有人失恋吧，失恋要换女朋友吧，第一次运行myGirl();这句后结果跟之前的例子一样的结果，第二次myGirl() ;运行后，女朋友就变成了Lina，因为“失恋”这个方法运行了，并且传入了一个数据（新女朋友），说明我们真的从外部改变了内部的值，与就是说，第一次运行myGirl()之后女朋友还一直被保存在内存空间里面，并没有被系统回收，因为“失恋”这个全局变量是一个方法，而这个方法刚好用到了“女朋友”这个内部变量，这就是闭包的第二个作用，让一些内部变量keep alive，保持在内存中，并改变它。</h3>
	  <h3>感觉程序就像人生一般，里面会有各种模块，喜悦忧伤失恋失败成功成才。。。。所有的你的数据当你过完这一生，这一整个你就会被大自然回收。</h3>
	  <h3>从技术上来讲，在JS中，每个function都是闭包，因为它总是能访问在它外部定义的数据。（好吧，这句是从网上拿来装下逼的！ 不过说的挺不错的），闭包是bug还是设计原则，都无所谓啦，网上那么多人都有自己的“以为”，看多几遍就成了自己的“以为”，this function return that function，run that function so can we get or set this function’s data这就是我的“以为”（强行秀一波英语），总之呢，闭包会把数据保持在内存中，频繁使用闭包，内存吃不消这是真滴！所以呢，人，也要学会适当放空自己，洒脱一些，笑对人生！</h3>
	  <h3>对了，另一个讨厌的词汇是：递归！the fucking…….digui !</h3>
	  <h3> </h3>
	  <h3> </h3>
    </div>
    <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/lifeher/the-fucking-closure">The-fucking-closure</a> is maintained by <a href="https://github.com/lifeher">lifeher</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
